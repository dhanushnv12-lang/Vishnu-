<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Crazy In Love üíñ</title>

<style>
body {
  margin: 0;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: radial-gradient(circle at top, #ffb6c1, #ff2e63);
  font-family: 'Segoe UI', system-ui, sans-serif;
  overflow: hidden;
}

.overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.35);
  opacity: 0;
  transition: opacity 1s;
  pointer-events: none;
}
.overlay.active { opacity: 1; }

.card {
  background: #fff;
  padding: 48px 56px;
  border-radius: 24px;
  box-shadow: 0 40px 90px rgba(0,0,0,.35);
  text-align: center;
  animation: heartbeat 2.6s infinite;
}

@keyframes heartbeat {
  0%{transform:scale(1)}
  15%{transform:scale(1.05)}
  30%{transform:scale(1)}
  45%{transform:scale(1.08)}
  70%{transform:scale(1)}
}

h1 { color:#ff2e63; font-size:2.3rem; }
p { font-size:1.25rem; line-height:1.6; }

.buttons {
  display:flex;
  gap:28px;
  justify-content:center;
}

button {
  padding:16px 42px;
  border:none;
  border-radius:999px;
  font-size:1.1rem;
  cursor:pointer;
}

#yesBtn {
  background:linear-gradient(135deg,#ff2e63,#ff85a2);
  color:white;
  box-shadow:0 14px 36px rgba(255,46,99,.55);
}
#yesBtn:hover { transform:scale(1.15); }

#noBtn {
  background:#f3f3f3;
  touch-action:none;
}

.final-message {
  font-size:1.35rem;
  color:#ff2e63;
  line-height:1.9;
  white-space:pre-wrap;
}

.caret::after {
  content:'‚ñç';
  animation:blink 1s infinite;
}
@keyframes blink { 50%{opacity:0} }

.heart {
  position:fixed;
  width:12px;
  height:12px;
  transform:rotate(45deg);
  animation:explode 2.2s forwards;
  pointer-events:none;
}
.heart::before,.heart::after{
  content:'';
  width:12px;height:12px;
  background:inherit;
  border-radius:50%;
  position:absolute;
}
.heart::before{top:-6px}
.heart::after{left:-6px}

@keyframes explode {
  to {
    transform:translate(var(--x),var(--y)) rotate(45deg) scale(0);
    opacity:0;
  }
}

.frame {
  position:fixed;
  inset:20px;
  border-radius:28px;
  border:3px solid rgba(255,255,255,.8);
  box-shadow:inset 0 0 0 8px rgba(255,46,99,.35),
             0 0 0 9999px rgba(0,0,0,.35);
  opacity:0;
  pointer-events:none;
  transition:.8s;
}
.frame.active { opacity:1; }

.save-bar {
  position:fixed;
  bottom:24px;
  left:50%;
  transform:translateX(-50%);
  opacity:0;
  transition:.8s;
}
.save-bar.active { opacity:1; }

.save-btn {
  padding:12px 22px;
  border-radius:999px;
  background:#fff;
  color:#ff2e63;
  font-weight:600;
  border:none;
}
</style>
</head>

<body>

<div class="overlay" id="overlay"></div>
<div class="frame" id="frame"></div>
<div class="save-bar" id="saveBar">
  <button class="save-btn" onclick="window.print()">Save this moment</button>
</div>

<div class="card" id="card">
  <div id="lock" style="font-size:2rem;opacity:.7">üîí</div>
  <h1>Hi <span id="name"></span> üíñ</h1>
  <h2>Will You Be My Valentine</h2>
  <p id="line"></p>
  <div class="buttons">
    <button id="yesBtn">Yes üíò</button>
    <button id="noBtn">No üòè</button>
  </div>
</div>

<script>
/* ‚úèÔ∏è CHANGE THESE */
const PERSON_NAME = "Divya";
const SECRET_WORD = "forever";

document.getElementById("name").textContent = PERSON_NAME;

const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const card = document.getElementById("card");
const overlay = document.getElementById("overlay");
const frame = document.getElementById("frame");
const saveBar = document.getElementById("saveBar");
const line = document.getElementById("line");

const lines = [
 "Some people don‚Äôt enter your life ‚Äî they change it forever.",
 "Every thought of you makes my heart forget calm.",
 "You feel like a wish I never knew how to ask for.",
 "So tell me honestly‚Ä¶ will you be my Valentine?"
];
let i=0;
setInterval(()=> line.textContent=lines[i++%lines.length],2800);

function moveNo(){
  noBtn.style.transform=`translate(${Math.random()*400-200}px,${Math.random()*300-150}px)`
}
["mouseenter","touchstart","mousedown"].forEach(e=>{
  noBtn.addEventListener(e,moveNo)
});

function heartFireworks(){
  for(let i=0;i<160;i++){
    const h=document.createElement("div");
    h.className="heart";
    h.style.background=`hsl(${Math.random()*360},100%,65%)`;
    h.style.left=innerWidth/2+"px";
    h.style.top=innerHeight/2+"px";
    h.style.setProperty("--x",Math.random()*400-200+"px");
    h.style.setProperty("--y",Math.random()*400-200+"px");
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),2200);
  }
}

function typeText(el,text,done){
  el.textContent="";
  el.classList.add("caret");
  let i=0;
  const t=setInterval(()=>{
    el.textContent+=text[i++];
    if(i>=text.length){
      clearInterval(t);
      el.classList.remove("caret");
      done&&done();
    }
  },55);
}

let taps=0, unlocked=false;

yesBtn.onclick=()=>{
  overlay.classList.add("active");
  heartFireworks();

  card.innerHTML=`
    <div id="lock" style="font-size:2.2rem">üîí</div>
    <div class="final-message" id="final"></div>
    <div style="opacity:.6;margin-top:14px">Tap the card three times ‚ù§Ô∏è</div>
  `;

  typeText(
    document.getElementById("final"),
`${PERSON_NAME},

From the moment you came into my life,
everything softened.
You became my calm,
my chaos,
my favorite thought.`,
()=>{ frame.classList.add("active"); saveBar.classList.add("active"); }
  );

  card.onclick=()=>{
    if(unlocked) return;
    taps++;
    if(taps===3){
      const input=document.createElement("input");
      input.placeholder="Type the secret word‚Ä¶";
      input.style.marginTop="20px";
      input.style.padding="12px 18px";
      input.style.borderRadius="999px";
      input.style.border="2px solid #ff2e63";
      input.style.fontSize="1.1rem";
      input.style.textAlign="center";
      card.appendChild(input);

      input.oninput=()=>{
        if(input.value===SECRET_WORD) unlock();
      };
    }
  };
};

function unlock(){
  unlocked=true;
  const lock=document.getElementById("lock");
  lock.textContent="üîì";
  lock.style.transform="scale(1.6) rotate(-15deg)";
  lock.style.transition="0.7s cubic-bezier(.68,-0.55,.27,1.55)";
  new Audio("https://actions.google.com/sounds/v1/foley/lock_open.ogg").play();
  heartFireworks();

  const vow=document.createElement("p");
  vow.className="final-message";
  card.appendChild(vow);

  typeText(vow,
`I locked this not to hide it,
but because it mattered.

${PERSON_NAME},
I don‚Äôt want moments.
I want a lifetime ‚Äî
with you.`);
}
</script>
</body>
</html>

